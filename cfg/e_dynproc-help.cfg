[patch]
name=e_dynproc
description=e_dynproc is a multipurpose dynamics processor that can be used as a compressor, a limiter, a noisegate and an expander depending on the values of comp1 and comp2 as follows:

compressor: comp1 > 1, comp2 = 1 (try comp2 < 1 for that pumping sound)

expander: comp1 = 1, comp2 < 1

limiter: comp1 very big, comp2 = 1

noise gate: comp1 = 1, comp2 very big

The dry signal is delayed so as to avoid phasing effects with the compressed version.
related=

[argument 0]
name=name
type=symbol
description=name for state saving.
required=1

[inlet 0]
domain=audio
description=audio signal to apply effect on.

[inlet 1]
domain=audio
description=reference audio signal ("sidechain").

[inlet 2 0]
domain=messages
name=makeup
type=list
description=makeup gain in percentage units.
default=0
example= makeup 50

[inlet 2 1]
domain=messages
name=dry
type=list
description=dry/wet mix, 0=all dry.
default=0
example= dry 0.5

[inlet 2 2]
domain=messages
name=tresh
type=list
description=threshold in dB.
default=0
example= threshold 70.8

[inlet 2 3]
domain=messages
name=comp1
type=list
description=compression ratio 1.
default=0
example= comp1 1

[inlet 2 4]
domain=messages
name=comp2
type=list
description= compression ratio 2.
default=0
example= comp2 1

[inlet 2 5]
domain=messages
name=rel
type=list
description= release time in msec.
default=50
example= rel 100

[inlet 2 6]
domain=messages
name=att
type=list
description= attack time in msec.
default=0
example= att 40

[inlet 2 7]
domain=messages
name=save
type=symbol
description= report current settings to last outlet.

[outlet 0]
domain=audio
description=gain modified audio signal.

[outlet 1]
domain=audio
description=gain envelope signal.

[outlet 2]
domain=message
description=on "save", the current state is reported here.

